<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link href="static/main.css" rel="stylesheet">

    <title>Document</title>
</head>
<body>
    

  <nav class="navbar navbar-dark bg-dark">
    <span class="navbar-brand mb-0 h1">Navbar</span>
  </nav>

  <div class="container-fluid">
 
      

        


    
        
        <div class="row">







            <div class="col-lg-7 offset-md-1 mt-4">
                <div class="jumbotron ">
                 

                    <form action="/create" method="POST">
                      <div class="form-row">
                        <div class="col-3">
                          <input type="text" class="form-control" name="amount"placeholder="MONTO" required="required">
                        </div>
                        <div class="form-group col-3">
                          
                          <select class="form-control" id="exampleFormControlSelect1" name="method">
                            <option > METODO</option>
                            <option>PUNTO DE VENTA</option>
                            <option>DOLARES EFECTIVO</option>
                            <option>BOLIVARES EFECTIVO</option>
                            <option>ZELLE</option>
                           
                            
                          </select>
                        </div>
                        <div class="col-3">
                          <input type="text" class="form-control" placeholder="MOTIVO" name="reason">
                        </div>
                        <div class="col-3">
                          <button class="btn btn-success btn-block">Enviar</button>
                        </div>
                      </div>
                    </form>

                    {% for operation in operations %}
                  <ul class="list-group mt-4">

                  
                    
                      <li class="list-group-item  "><strong>{{ operation.date_created}} || <span class="op-amount"> {{operation.amount}} </span> || {{operation.method}} || {{operation.reason}}</strong></li>


  



                  </ul>
                  {% endfor %}
                  </div>
            </div>

            <div class="col-lg-3 mt-4">

                <div class="jumbotron ">
                  <h4>ZELLE: ${{sumZelle}}</h4>  
                  <br>
                   <h4>PUNTO DE VENTA: BsS. {{sumPunto}}</h4> 
                   <br>
                   <h4>DOLARES EN EFECTIVO: ${{sumEfectivoD}}</h4> 
                   <br>
                    <h4>BOLIVARES EN EFECTIVO: BsS. {{sumEfectivoBS}}</h4>
                    <br>
                  </div>

            </div>


            

        </div>
   

    </div>









    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script type="text/javascript">

  var formatter = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',

    // These options are needed to round to whole numbers if that's what you want.
    //minimumFractionDigits: 0,
    //maximumFractionDigits: 0,
  });

  var amounts = document.getElementsByClassName("op-amount");
  for (var i = 0; i < amounts.length; i++) {

       amounts[i].innerHTML = formatter.format(parseFloat(amounts[i].innerHTML));
  }

  //CAMBIA COLOR SEGUN METODO DE PAGO

  var colores = ["list-group-item-success","list-group-item-danger","list-group-item-warning"]

  
  var classColor = document.getElementsByClassName("list-group-item");
  for (var i = 0; i < classColor.length; i++){
    if (classColor[i].innerHTML.indexOf('ZELLE') > -1 || classColor[i].innerHTML.indexOf('DOLARES') > -1){
      classColor[i].className += " " +colores[0]

    }
    if (classColor[i].innerHTML.indexOf('PUNTO') > -1 || classColor[i].innerHTML.indexOf('BOLIVARES') > -1){
      classColor[i].className += " " +colores[2]

    }
    if (classColor[i].innerHTML.indexOf('DEVOLUCION') > -1) {
      classColor[i].className += " " +colores[1]

    }
  } 



</script> 
</body>
</html>